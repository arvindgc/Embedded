#include <lpc214x.h>

float sinedata[100] = {544.09, 576.05, 607.75, 639.08, 669.91, 700.11, 729.57, 758.18, 785.81, 812.36, 
837.72, 861.80, 884.50, 905.73, 925.41, 943.45, 959.79, 974.37, 987.12, 997.99, 
1006.95, 1013.95, 1018.97, 1021.99, 1023.00, 1021.99, 1018.97, 1013.95, 1006.95, 
997.99, 987.12, 974.37, 959.79, 943.45, 925.41, 905.73, 884.50, 861.80, 837.72, 
812.36, 785.81, 758.18, 729.57, 700.11, 669.91, 639.08, 607.75, 576.05, 544.09, 
512.00, 479.91, 447.95, 416.25, 384.92, 354.09, 323.89, 294.43, 265.82, 238.19, 
211.64, 186.28, 162.20, 139.50, 118.27, 98.59, 80.55, 64.21, 49.63, 36.88, 
26.01, 17.05, 10.05, 5.03, 2.01, 1.00, 2.01, 5.03, 10.05, 17.05, 
26.01, 36.88, 49.63, 64.21, 80.55, 98.59, 118.27, 139.50, 162.20, 186.28, 
211.64, 238.19, 265.82, 294.43, 323.89, 354.09, 384.92, 416.25, 447.95, 479.91, 
512.00};

void delay_us(unsigned int us) {
    T0TCR = 0x02;  // Reset Timer
    T0PR  = 59;    // Prescaler for 1 microsecond (PCLK 60 MHz, 60 ticks per us)
    T0TCR = 0x01;  // Enable Timer

    while (us > 0) {
        // Wait until Timer reaches the match value
        while (T0TC < 1);  
        T0TC = 0;  // Reset the timer counter
        us--;      // Decrement the us count
    }

    T0TCR = 0x00;  // Disable Timer
}
